---
name: Concepts
route: /concepts
---

## Model

Models are the most basic data structure/abstraction in this library. They require a set of options to be provided
when initializing them.

#### Example:
```javascript
import {Model} from 'react-resux';
import _ from 'lodash';

async function fetchApi(url) {
  return await fetch(url).then(response => response.json());
}

export const userModel = new Model({
    // Mandatory options
    namespace: 'users',
    state: {
        loading: {},
        data: {},
    },

    // Optional options
    selectors: {
        loadingByUser: (state, userId) => _.get(state, `users.loading[${userId}]`, true),
        userById: (state, userId) => _.get(state, `users.data[${userId}]`),
    },
    reducers: {
        saveUser(state, { data, userId }) {
          state.loading[userId] = false;
          state.data[userId] = data;
        },
    },
    effects: {
        *fetchUser({ userId }, { call, put }) {
            try {
                const data = yield call(fetchApi, `http://jsonplaceholder.typicode.com/users/${userId}`);
                yield put({type: "users.saveUser", data, userId});
             } catch (error) {
                console.log(error)
             }
        },
    },
});
```

The model will be used to generate the action types, actions, reducers, sagas and dispatchers for this particular
entity (i.e. users). Below you can find a more in depth description on the many options that can be used during a
model instantiation.

### Model Options

An object with a few key-value pairs. Being [namespace](#namespace) and [state](#namespace) mandatory, while
[selectors](#selectors), [reducers](#reducers), [effects](#effects) are optional. For more info see
[this](/react-resux/interfaces/modeloptions.md).

### Models's API

For more info see [this](/react-resux/classes/model.md).

## Subscriber

Subscribers provide a way to link models' effects/reducers, so that they get triggered by the same non-namespaced
action type, on a leading, latest, or every action basis. That is, they provide the means for generating redux sagas
employing takeLeading, takeLatest, or takeEvery effects. Those models' action creators will be available within the
subscriber's effects.

#### Example:
```javascript
import {Subscriber} from 'react-resux';
import {userModel} from './models';

export const pageSubscriber = new Subscriber([userModel]).takeLatest(
  'fetchPage', [
    (action, {users}) => users.fetchUser(action),
  ]
);
```

### Subscriber's API

For more info see [this](/react-resux/classes/subscriber.md).
